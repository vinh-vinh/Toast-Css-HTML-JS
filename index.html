<!DOCTYPE html>
<html>
    <head>
        <title>F8 - Shop</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="/css/styles.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    </head>
    
    <body>
      
        <div id="toast">
            <!-- Successs -->
            <!-- <div class="toast toast--success" >
                <div class="toast__icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="toast__body">
                    <h3 class="toast__title">Success</h3>
                    <p class="toast__msg">Tham gia nhóm Học lập trình tại F8 trên Facebook để cùng nhau trao đổi trong quá trình học tập ❤️</p>
                </div>
                <div class="toast__close">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            </div>

            <!-- Info -->
            <!-- <div class="toast toast--info" >
                <div class="toast__icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="toast__body">
                    <h3 class="toast__title">Info</h3>
                    <p class="toast__msg">Tham gia nhóm Học lập trình tại F8 trên Facebook để cùng nhau trao đổi trong quá trình học tập ❤️</p>
                </div>
                <div class="toast__close">
                    <i class="fas fa-times"></i>
                </div>
            </div> -->
            <!-- Warning -->
            <!-- <div class="toast toast--warning" >
                <div class="toast__icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="toast__body">
                    <h3 class="toast__title">Warning</h3>
                    <p class="toast__msg">Tham gia nhóm Học lập trình tại F8 trên Facebook để cùng nhau trao đổi trong quá trình học tập ❤️</p>
                </div>
                <div class="toast__close">
                    <i class="fas fa-times"></i>
                </div>
            </div> -->
            <!-- Error -->
            <!-- <div class="toast toast--error" >
                <div class="toast__icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="toast__body">
                    <h3 class="toast__title">Error</h3>
                    <p class="toast__msg">Tham gia nhóm Học lập trình tại F8 trên Facebook để cùng nhau trao đổi trong quá trình học tập ❤️</p>
                </div>
                <div class="toast__close">
                    <i class="fas fa-times"></i>
                </div>
            </div> -->

        </div>
        <div>
            <button onclick="showSuccessToast();" class="btn btn--success ">Success Toast</button>
            <button onclick="showErrorToast();" class="btn btn--danger">Error</button>

          </div>


          <script>
              //Toast function
              function toast({
                  title='',
                  message='',
                  type='info',
                  duration=3000
                }){
                    const main = document.getElementById('toast');
                    if(main){
                        const toast = document.createElement('div');
                        
                        // auto remove toast
                       const autoRemoveId = setTimeout(function(){
                            main.removeChild(toast)
                        },duration+1000) 

                        // Remove toast when clicked
                        toast.onclick = function(e){
                            if(e.target.closest('.toast__close')){
                                main.removeChild(toast)
                                clearTimeout(autoRemoveId);
                            }
                        }
                        const icons = {
                            success:'fas fa-check-circle',
                            info:'fas fa-info-circle',
                            warning:'fas fa-exclamation-circle',
                            error:'fas fa-exclamation-circle'

                        };
                        const icon = icons[type]
                        // Tránh cho số dư số thập phân thì để tofixed 
                        const delay = (duration/1000).toFixed(2);
                        
                        toast.classList.add('toast',`toast--${type}`);
                        toast.style.animation = `animation: fadeOut linear 1s ${delay}s forwards`;
                        
                        toast.innerHTML=`
                    <div class="toast__icon">
                        <i class="${icon}"></i>
                    </div>
                    <div class="toast__body">
                        <h3 class="toast__title">${title}</h3>
                        <p class="toast__msg">${message}</p>
                    </div>
                    <div class="toast__close">
                        <i class="fas fa-times"></i>
                    </div>
                        `;

                        main.appendChild(toast);



                    }
              }


               function showSuccessToast(){
                toast({
                  title:'Thành Công',
                  message:'Bạn đã đăng ký thành công',
                  type:'success',
                  duration:5000
              });
               }
               function showErrorToast(){
                toast({
                  title:'Thất bại rùi!',
                  message:'Có lỗi đã xảy ra vui lòng liên hệ với quản trị viên',
                  type:'error',
                  duration:5000
              });
               }

          </script>


    </body>
</html>